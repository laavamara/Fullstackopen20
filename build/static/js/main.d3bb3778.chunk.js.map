{"version":3,"sources":["Components/Filter.js","Components/PersonForm.js","Components/Persons.js","Services/Contacts.js","Components/Notification.js","App.js","index.js"],"names":["Filter","value","onChange","PersonForm","onSubmit","onChangeName","onChangeNum","valueName","valueNumber","type","Person","persons","filterIn","deleteUser","filter","person","name","toLowerCase","includes","map","i","key","number","onClick","baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","Notification","message","errorMessage","style","color","fontStyle","fontSize","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","newFilter","setFilter","setMessage","setErrorMessage","useEffect","contacts","allNotes","event","target","preventDefault","nameObject","doubleNameLow","some","find","p","changedPerson","window","confirm","setTimeout","catch","error","createData","concat","console","log","Persons","props","filtState","n","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d3bb3778.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({value,onChange}) => {\r\n\r\n    return (\r\n    <div>Filter by name: \r\n    <input \r\n    value={value}\r\n    onChange={onChange}\r\n    />\r\n    </div>\r\n\r\n    )\r\n}\r\n\r\n\r\n\r\n\r\n\r\nexport default Filter;","import React from 'react'\r\n\r\nconst PersonForm = ({onSubmit,onChangeName,onChangeNum,valueName,valueNumber}) => {\r\n\r\n    return (\r\n    <form onSubmit={onSubmit}>\r\n    <div>Name:\r\n    <input value={valueName}\r\n    onChange={onChangeName}/>\r\n    </div>\r\n    <div>Number:\r\n      <input value={valueNumber}\r\n      onChange={onChangeNum}/>\r\n    </div>\r\n    <button type=\"submit\">add</button>\r\n  </form>\r\n    )\r\n\r\n\r\n}\r\n\r\n\r\nexport default PersonForm;","import React from 'react'\r\n\r\n\r\nconst Person = ({persons,filterIn, deleteUser}) => {\r\n    \r\n    return (\r\n    persons.filter(person => person.name.toLowerCase().includes(filterIn.toLowerCase()))\r\n    .map((person,i) => \r\n    <li key={person.name}> {person.name} - {person.number}\r\n    <button onClick={() => deleteUser(person)}>Delete</button>\r\n    </li>\r\n    )\r\n    )   \r\n}\r\n\r\nexport default Person","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n  \r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst deleteUser = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`, id)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, update, deleteUser }","import React from 'react'\r\n\r\nconst Notification = ({message, errorMessage}) => {\r\n\r\n    const messageStyle = {\r\n        color: 'green',\r\n        fontStyle: 'italic',\r\n        fontSize: 20\r\n        \r\n    }\r\n\r\n    const errorMessageStyle = {\r\n        color: 'red',\r\n        fontStyle: 'italic',\r\n        fontSize: 20\r\n        \r\n    }\r\n\r\n    if (message === null && errorMessage === null) {\r\n        return null\r\n    }\r\n\r\n    else if (message !== null) {\r\n    return (\r\n        <div style={messageStyle}>\r\n            <h2>{message}</h2>\r\n        </div>\r\n    )\r\n    }\r\n    else if (errorMessage !== null) {\r\n        return (\r\n            <div style={errorMessageStyle}>\r\n                <h2>{errorMessage}</h2>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport Filter from './Components/Filter'\nimport PersonForm from './Components/PersonForm'\nimport Persons from './Components/Persons'\nimport contacts from './Services/Contacts'\nimport Notification from './Components/Notification'\n\nconst App = () => {\n\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName ] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [newFilter, setFilter] = useState('')\n  const [message, setMessage] = useState('')\n  const [errorMessage, setErrorMessage] = useState(null)\n\n  useEffect(() => {\n    \n    contacts\n      .getAll()\n      .then(allNotes => {\n        setPersons(allNotes)\n      })\n  }, [])\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilter = (event) => {\n    setFilter(event.target.value)\n  }\n\n  const addContact = (event) => {\n    event.preventDefault()\n\n    const nameObject = {\n      name: newName,\n      number : newNumber\n      \n    }\n   \n    const doubleNameLow = persons.some(person => person.name.toLowerCase() === newName.toLowerCase())\n    const doubleNum = persons.some(person => person.number === newNumber)\n\n    if (doubleNameLow) {\n      const person = persons.find(p => p.name === newName)\n      const changedPerson = { ...person, number: newNumber }\n      const { id } = person\n      \n      \n      if (window.confirm(`Overwrite number for:  ${newName}?`)) {\n      contacts\n      .update(id, changedPerson)\n      .then(() => {\n        setPersons(persons.map(person => person.id !== id ? person : changedPerson))\n        setMessage(`Overwrote: ${newName}`)\n        setTimeout(() => {\n          setMessage(null)\n        }, 3000)\n      })\n      .catch(error => {\n        setErrorMessage(error.response.data.error.message)\n        setTimeout(() => {\n          setErrorMessage(null)\n        }, 3000)\n        })\n    }\n  }\n    /*\n    else if (doubleNum) \n      {\n        setErrorMessage(`Number is already in the phone book: ${newNumber}`)\n        setTimeout(() => {\n          setErrorMessage(null)\n        }, 3000)\n      }\n      */\n    //else if (!doubleNameLow)  {\n      else {\n      \n      contacts\n      .create(nameObject)\n      .then(createData => {\n        setPersons(persons.concat(createData))\n        setMessage(`Added: ${newName}`)\n        setTimeout(() => {\n          setMessage(null)\n        }, 3000)\n      })\n      .catch(error => {\n        setErrorMessage(error.response.data.error.message)\n        setTimeout(() => {\n          setErrorMessage(null)\n        }, 3000)\n        console.log(`ERROR: ${error.response.data.error.message}`)\n      })\n      \n      //setNewName('')\n      //setNewNumber('')\n  }\n  setNewName('')\n  setNewNumber('')\n}\n\n  const deleteUser = (props) => {\n    \n    if (window.confirm(`Delete user ${props.name}?`)) {\n    contacts\n    .deleteUser(props.id)\n    .then(()=> {\n      const filtState = persons.filter(n => n.id !== props.id)\n      setPersons(filtState)\n      setMessage(`Deleted: ${props.name}`)\n      setTimeout(() => {\n        setMessage(null)\n      }, 3000)\n    })\n    .catch(error => {\n      setErrorMessage(`Error updating: ${newName}`)\n      setTimeout(() => {\n        setErrorMessage(null)\n      }, 3000)\n      })\n}\n  }\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <Filter value={newFilter} onChange={handleFilter}/>\n      <h2>Add a new contact: </h2>\n      <PersonForm onSubmit={addContact} onChangeName={handleNameChange} onChangeNum={handleNumChange} valueName={newName} valueNumber={newNumber}/>\n      <Notification message={message} errorMessage={errorMessage}/>\n      <h2>Names - numbers</h2>\n        <ol>\n        <Persons persons={persons} filterIn={newFilter} deleteUser={deleteUser}/>\n        </ol>\n    </div>\n  )\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n//import './index.css'\n\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}